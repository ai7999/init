(()=>{"use strict";var e={10:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(537),s=n.n(i),l=n(645),a=n.n(l)()(s());a.push([e.id,".shake {\n  animation: shake 0.6s;\n  position: relative;\n  z-index: 10;\n}\n\n@keyframes shake {\n  0%,\n  100% {\n    transform: translateX(0);\n  }\n\n  10%,\n  30%,\n  50%,\n  70%,\n  90% {\n    transform: translateX(-5px);\n  }\n\n  20%,\n  40%,\n  60%,\n  80% {\n    transform: translateX(5px);\n  }\n}\n","",{version:3,sources:["webpack://./src/framework/view/abstract-view.css"],names:[],mappings:"AAAA;EACE,qBAAqB;EACrB,kBAAkB;EAClB,WAAW;AACb;;AAEA;EACE;;IAEE,wBAAwB;EAC1B;;EAEA;;;;;IAKE,2BAA2B;EAC7B;;EAEA;;;;IAIE,0BAA0B;EAC5B;AACF",sourcesContent:[".shake {\n  animation: shake 0.6s;\n  position: relative;\n  z-index: 10;\n}\n\n@keyframes shake {\n  0%,\n  100% {\n    transform: translateX(0);\n  }\n\n  10%,\n  30%,\n  50%,\n  70%,\n  90% {\n    transform: translateX(-5px);\n  }\n\n  20%,\n  40%,\n  60%,\n  80% {\n    transform: translateX(5px);\n  }\n}\n"],sourceRoot:""}]);const o=a},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,s,l){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(a[r]=!0)}for(var m=0;m<e.length;m++){var c=[].concat(e[m]);i&&a[c[0]]||(void 0!==l&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=l),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),s&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=s):c[4]="".concat(s)),t.push(c))}},t}},537:e=>{e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),l="/*# ".concat(s," */"),a=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(a).concat([l]).join("\n")}return[t].join("\n")}},379:e=>{var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var l={},a=[],o=0;o<e.length;o++){var r=e[o],m=i.base?r[0]+i.base:r[0],c=l[m]||0,d="".concat(m," ").concat(c);l[m]=c+1;var h=n(d),u={css:r[1],media:r[2],sourceMap:r[3],supports:r[4],layer:r[5]};if(-1!==h)t[h].references++,t[h].updater(u);else{var f=s(u,i);i.byIndex=o,t.splice(o,0,{identifier:d,updater:f,references:1})}a.push(d)}return a}function s(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,s){var l=i(e=e||[],s=s||{});return function(e){e=e||[];for(var a=0;a<l.length;a++){var o=n(l[a]);t[o].references--}for(var r=i(e,s),m=0;m<l.length;m++){var c=n(l[m]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}l=r}}},569:e=>{var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var s=void 0!==n.layer;s&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,s&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var l=n.sourceMap;l&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(l))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var l=t[i]={id:i,exports:{}};return e[i](l,l.exports,n),l.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{const e=e=>{const t=document.createElement("div");return t.innerHTML=e,t.firstElementChild},t=(e,t,n="beforeend")=>{t.insertAdjacentElement(n,e.element)};class i{#e=null;get template(){return'\n    <ul class="sort">\n      <li><a href="#" class="sort__button sort__button--active">Sort by default</a></li>\n      <li><a href="#" class="sort__button">Sort by date</a></li>\n      <li><a href="#" class="sort__button">Sort by rating</a></li>\n    </ul>\n  '}get element(){return this.#e||(this.#e=e(this.template)),this.#e}removeElement(){this.#e=null}}class s{#e=null;get template(){return'<section class="films"></section>'}get element(){return this.#e||(this.#e=e(this.template)),this.#e}removeElement(){this.#e=null}}class l{#e=null;get template(){return'<section class="films-list"></section>'}get element(){return this.#e||(this.#e=e(this.template)),this.#e}removeElement(){this.#e=null}}class a{#e=null;get template(){return'<div class="films-list__container"></div>'}get element(){return this.#e||(this.#e=e(this.template)),this.#e}removeElement(){this.#e=null}}var o=n(379),r=n.n(o),m=n(795),c=n.n(m),d=n(569),h=n.n(d),u=n(565),f=n.n(u),p=n(216),_=n.n(p),g=n(589),v=n.n(g),b=n(10),y={};y.styleTagTransform=v(),y.setAttributes=f(),y.insert=h().bind(null,"head"),y.domAPI=c(),y.insertStyleElement=_(),r()(b.Z,y),b.Z&&b.Z.locals&&b.Z.locals;const w="shake";class C{#e=null;_callback={};constructor(){if(new.target===C)throw new Error("Can't instantiate AbstractView, only concrete one.")}get element(){return this.#e||(this.#e=(e=>{const t=document.createElement("div");return t.innerHTML=e,t.firstElementChild})(this.template)),this.#e}get template(){throw new Error("Abstract method not implemented: get template")}removeElement(){this.#e=null}shake(e){this.element.classList.add(w),setTimeout((()=>{this.element.classList.remove(w),e?.()}),600)}}class A extends C{get template(){return'<button class="films-list__show-more">Show more</button>'}}const E=(e=0,t=1)=>{const n=Math.ceil(Math.min(Math.abs(e),Math.abs(t))),i=Math.floor(Math.max(Math.abs(e),Math.abs(t))),s=Math.random()*(i-n+1)+n;return Math.floor(s)},M=(e=0,t=1)=>{const n=Math.ceil(Math.min(Math.abs(e),Math.abs(t))),i=Math.floor(Math.max(Math.abs(e),Math.abs(t)));return(Math.random()*(i-n+1)+n).toFixed(1)},j=e=>e[E(0,e.length-1)],k=e=>e<60?`${e}m`:`${Math.floor(e/60)}h ${e%60}m`;class ${#e=null;#t=null;constructor(e){this.#t=e}get template(){return(({filmInfo:e,comments:t})=>`\n    <article class="film-card">\n      ${((e,t)=>{const{title:n,totalRating:i,release:s,runtime:l,genre:a,poster:o,description:r}=e;return`\n    <a class="film-card__link">\n      <h3 class="film-card__title">${n}</h3>\n      <p class="film-card__rating">${i}</p>\n      <p class="film-card__info">\n        <span class="film-card__year">${m=s.date,new Date(m).getFullYear()}</span>\n        <span class="film-card__duration">${k(l)}</span>\n        <span class="film-card__genre">${a[0]}</span>\n      </p>\n      <img src="${o}" alt="" class="film-card__poster">\n      <p class="film-card__description">\n      ${r}\n      </p>\n      <span class="film-card__comments">\n      ${t}\n      </span>\n    </a>\n  `;var m})(e,t.length)}\n      \n    <div class="film-card__controls">\n      <button class="film-card__controls-item film-card__controls-item--add-to-watchlist" type="button">Add to\n        watchlist</button>\n      <button class="film-card__controls-item film-card__controls-item--mark-as-watched" type="button">Mark as\n        watched</button>\n      <button class="film-card__controls-item film-card__controls-item--favorite" type="button">Mark as\n        favorite</button>\n    </div>\n  \n    </article>\n  `)(this.#t)}get element(){return this.#e||(this.#e=e(this.template)),this.#e}removeElement(){this.#e=null}}const S=({author:e,comment:t,date:n,emotion:i})=>`\n          <li class="film-details__comment">\n            <span class="film-details__comment-emoji">\n              <img src="./images/emoji/${i}.png" width="55" height="55" alt="emoji-${i}">\n            </span>\n            <div>\n              <p class="film-details__comment-text">${t}</p>\n              <p class="film-details__comment-info">\n                <span class="film-details__comment-author">${e}</span>\n                <span class="film-details__comment-day">${n}</span>\n                <button class="film-details__comment-delete">Delete</button>\n              </p>\n            </div>\n          </li>\n\n  `;class D{#e=null;#t=null;#n=null;constructor(e,t){this.#t=e,this.#n=t}get template(){return(({filmInfo:e},t)=>`\n  <section class="film-details">\n    <div class="film-details__inner">\n      <div class="film-details__top-container">\n        <div class="film-details__close">\n          <button class="film-details__close-btn" type="button">close</button>\n        </div>\n        ${(e=>{const{title:t,alternativeTitle:n,totalRating:i,poster:s,ageRating:l,director:a,writers:o,actors:r,release:m,runtime:c,genre:d,description:h}=e;return`\n   <div class="film-details__info-wrap">\n        <div class="film-details__poster">\n          <img class="film-details__poster-img" src="${s}" alt="">\n\n          <p class="film-details__age">${l}</p>\n        </div>\n\n        <div class="film-details__info">\n          <div class="film-details__info-head">\n            <div class="film-details__title-wrap">\n              <h3 class="film-details__title">${t}</h3>\n              <p class="film-details__title-original">${n}</p>\n            </div>\n\n            <div class="film-details__rating">\n              <p class="film-details__total-rating">${i}</p>\n            </div>\n          </div>\n\n          <table class="film-details__table">\n            <tr class="film-details__row">\n              <td class="film-details__term">Director</td>\n              <td class="film-details__cell">${a}</td>\n            </tr>\n            <tr class="film-details__row">\n              <td class="film-details__term">Writers</td>\n              <td class="film-details__cell">${o}</td>\n            </tr>\n            <tr class="film-details__row">\n              <td class="film-details__term">Actors</td>\n              <td class="film-details__cell">${r}</td>\n            </tr>\n            <tr class="film-details__row">\n              <td class="film-details__term">Release Date</td>\n              <td class="film-details__cell">${m.date}</td>\n            </tr>\n            <tr class="film-details__row">\n              <td class="film-details__term">Runtime</td>\n              <td class="film-details__cell">${c}</td>\n            </tr>\n            <tr class="film-details__row">\n              <td class="film-details__term">Country</td>\n              <td class="film-details__cell">${m.releaseCountry}</td>\n            </tr>\n            <tr class="film-details__row">\n              <td class="film-details__term">Genres</td>\n              <td class="film-details__cell">\n                <span class="film-details__genre">${d}</span>\n            </tr>\n          </table>\n\n          <p class="film-details__film-description">\n            ${h}\n          </p>\n        </div>\n      </div>\n  `})(e)}\n        \n    <section class="film-details__controls">\n        <button type="button" class="film-details__control-button film-details__control-button--watchlist" id="watchlist" name="watchlist">Add to watchlist</button>\n        <button type="button" class="film-details__control-button film-details__control-button--active film-details__control-button--watched" id="watched" name="watched">Already watched</button>\n        <button type="button" class="film-details__control-button film-details__control-button--favorite" id="favorite" name="favorite">Add to favorites</button>\n      </section>\n  \n      </div>\n      <div class="film-details__bottom-container">\n        <section class="film-details__comments-wrap">\n          <h3 class="film-details__comments-title">Comments <span class="film-details__comments-count">${t.length}</span></h3>\n          ${(e=>`\n  <ul class="film-details__comments-list">\n    ${e.map(S).join("")}\n  </ul>\n`)(t)}\n          \n    <form class="film-details__new-comment"  action="" method="get">\n      <div class="film-details__add-emoji-label"></div>\n\n      <label class="film-details__comment-label">\n        <textarea class="film-details__comment-input" placeholder="Select reaction below and write comment here" name="comment"></textarea>\n      </label>\n\n      <div class="film-details__emoji-list">\n        <input class="film-details__emoji-item visually-hidden" name="comment-emoji" type="radio" id="emoji-smile" value="smile">\n        <label class="film-details__emoji-label" for="emoji-smile">\n          <img src="./images/emoji/smile.png" width="30" height="30" alt="emoji">\n        </label>\n\n        <input class="film-details__emoji-item visually-hidden" name="comment-emoji" type="radio" id="emoji-sleeping" value="sleeping">\n        <label class="film-details__emoji-label" for="emoji-sleeping">\n          <img src="./images/emoji/sleeping.png" width="30" height="30" alt="emoji">\n        </label>\n\n        <input class="film-details__emoji-item visually-hidden" name="comment-emoji" type="radio" id="emoji-puke" value="puke">\n        <label class="film-details__emoji-label" for="emoji-puke">\n          <img src="./images/emoji/puke.png" width="30" height="30" alt="emoji">\n        </label>\n\n        <input class="film-details__emoji-item visually-hidden" name="comment-emoji" type="radio" id="emoji-angry" value="angry">\n        <label class="film-details__emoji-label" for="emoji-angry">\n          <img src="./images/emoji/angry.png" width="30" height="30" alt="emoji">\n        </label>\n      </div>\n    </form>\n  \n        </section>\n      </div>\n    </div>\n  </section>\n`)(this.#t,this.#n)}get element(){return this.#e||(this.#e=e(this.template)),this.#e}removeElement(){this.#e=null}}class F{#e=null;get template(){return'< section class="films-list" >\n      <h2 class="films-list__title">There are no movies in our database</h2>\n\n    </section >\n  '}get element(){return this.#e||(this.#e=e(this.template)),this.#e}removeElement(){this.#e=null}}const L=["Alice","Ivan","Sergey","Dakota","Nevada","Fedor"],B=["Makoveev","Ivanov","Romanov","Lee","James","Walker"],T=["Country On Him","Raiders With The Carpet","Guest Who Sold The Darkness","A Tale Of A Little Bird In The Storm","Friends On The Room","Raiders Who Stole Us","Friends Without Themselves","Pioneers Without Us","A Man With Themselves","Guest With The Darkness","A Little Pony Who Bought The Darkness","Family Who Bought The Carpet","Raiders Who Saw Him","Guest Within Him","Pioneers Without The Darkness","A Tale Of A Little Bird With Him","A Shark Who Sold The Wall","Raiders Who The Storm","Family Who Stole The Darkness","A Lion Without Us"],x=["images/posters/made-for-each-other.png","images/posters/popeye-meets-sinbad.png","images/posters/sagebrush-trail.jpg","images/posters/santa-claus-conquers-the-martians.jpg","images/posters/the-dance-of-life.jpg","images/posters/the-great-flamarion.jpg","images/posters/the-man-with-the-golden-arm.jpg"],W=["Animation","Action","Adventure","Comedy","Family","Horror","Thriller"],R=["smile","sleeping","puke","angry"],I=["USA","Russia","Germany","Finland","France","Spain","Italy","China","Japan"],q=()=>{const e=new Date;return e.setFullYear(e.getFullYear()-E(5,10)),e.toISOString()},O=()=>{return{title:j(T),alternativeTitle:j(T),totalRating:M(0,10),poster:j(x),ageRating:`${E(0,18)}+`,director:`${j(L)} ${j(B)}`,writers:Array.from({length:2},(()=>`${j(L)} ${j(B)}`)),actors:Array.from({length:2},(()=>`${j(L)} ${j(B)}`)),release:{date:(e=q(),new Date(e).toLocaleString("en-GB",{day:"2-digit",month:"long",year:"numeric"})),releaseCountry:j(I)},runtime:k(E(60,180)),genre:Array.from({length:E(1,3)},(()=>j(W))),description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras aliquet varius magna, non porta ligula feugiat eget. Fusce tristique felis at fermentum pharetra."};var e},H=()=>{const e=new Date;return e.setDate(e.getDate()-E(0,7)),e.toISOString()},U=document.querySelector("body"),G=U.querySelector(".header"),P=U.querySelector(".main"),N=U.querySelector(".footer").querySelector(".footer__statistics"),X=new class{#i=(()=>{const e=Array.from({length:18},O);let t=0;return e.map(((e,n)=>{const i=E(0,1),s=i?E(1,5):0;return t+=s,{id:String(n+1),comments:i?Array.from({length:s},((e,n)=>String(t-n))):[],filmInfo:e}}))})();get=()=>this.#i},K=new class{#s=null;#l=[];#n=[];constructor(e){this.#s=e,this.#a()}#a(){this.#l=(e=>{const t=(e=>e.reduce(((e,t)=>e+t.comments.length),0))(e);return Array.from({length:t},((e,t)=>{const n={author:`${j(L)} ${j(B)}`,comment:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras aliquet varius magna, non porta ligula feugiat eget.",date:(i=H(),new Date(i).toLocaleString("en-GB",{day:"2-digit",month:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})),emotion:j(R)};var i;return{id:String(t+1),...n}}))})(this.#s.get())}get=e=>(this.#n=e.comments.map((e=>this.#l.find((t=>t.id===e)))),this.#n)}(X),Z=new class{#o=null;#s=null;#r=null;#m=null;#i=[];#c=5;#d=new i;#h=new s;#u=new l;#f=new a;#p=new A;constructor(e,t,n){this.#o=e,this.#s=t,this.#r=n}init=()=>{this.#i=[...this.#s.get()],this.#_()};#_(){t(this.#d,this.#o),t(this.#h,this.#o),t(this.#u,this.#h.element),t(this.#f,this.#u.element),0!==this.#i.length?(this.#i.slice(0,Math.min(this.#i.length,5)).forEach((e=>this.#g(e,this.#f))),this.#i.length>5&&(t(this.#p,this.#u.element),this.#p.element.addEventListener("click",this.#v))):t(new F,this.#o)}#g=(e,n)=>{const i=new $(e);i.element.querySelector("a").addEventListener("click",(()=>{this.#b(e),document.addEventListener("keydown",this.#y)})),t(i,n.element)};#w=e=>{const n=[...this.#r.get(e)];this.#m=new D(e,n),this.#m.element.querySelector(".film-details__close-btn").addEventListener("click",(()=>{this.#C(),document.removeEventListener("keydown",this.#y)})),t(this.#m,this.#o.parentElement)};#b=e=>{this.#w(e),document.body.classList.add("hide-overflow")};#C=()=>{this.#m.element.remove(),this.#m=null,document.body.classList.remove("hide-overflow")};#y=e=>{"Escape"!==e.key&&"Esc"!==e.key||(e.preventDefault(),this.#C(),document.removeEventListener("keydown",this.#y))};#v=e=>{e.preventDefault(),this.#i.slice(this.#c,this.#c+5).forEach((e=>this.#g(e,this.#f))),this.#c+=5,this.#c>=this.#i.length&&(this.#p.element.remove(),this.#p.removeElement())}}(P,X,K);t(new class{#e=null;get template(){return'<section class="header__profile profile">\n      <p class="profile__rating">Movie Buff</p>\n      <img\n        class="profile__avatar"\n        src="images/bitmap@2x.png"\n        alt="Avatar"\n        width="35"\n        height="35"\n      >\n    </section>\n  '}get element(){return this.#e||(this.#e=e(this.template)),this.#e}removeElement(){this.#e=null}},G),t(new class{#e=null;get template(){return'\n    <nav class="main-navigation">\n      <a href="#all" class="main-navigation__item main-navigation__item--active">All movies</a>\n      <a href="#watchlist" class="main-navigation__item">Watchlist <span\n          class="main-navigation__item-count">13</span></a>\n      <a href="#history" class="main-navigation__item">History <span class="main-navigation__item-count">4</span></a>\n      <a href="#favorites" class="main-navigation__item">Favorites <span\n          class="main-navigation__item-count">8</span></a>\n    </nav>\n  '}get element(){return this.#e||(this.#e=e(this.template)),this.#e}removeElement(){this.#e=null}},P),t(new class{#e=null;get template(){return"<p>130 291 movies inside</p>"}get element(){return this.#e||(this.#e=e(this.template)),this.#e}removeElement(){this.#e=null}},N),Z.init()})()})();
//# sourceMappingURL=bundle.js.map